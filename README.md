## Бот для проведения викторины

Дима работает в историческом музее и нежно любит свою работу. Но каждый год одно и то же: в поисках летней подработки на стажировку в музей стекаются толпы студентов. Кого брать – непонятно.

А что самое плохое, последние несколько лет кандидаты оказываются сплошь неудачными. То украдут экспонат, то безответственно испортят. Нужен какой-то объективный подход к рекрутингу. Такой, чтобы красивые глаза не могли затмить отсутствие реального интереса к истории…

И выход есть – тестировать соискателей на знание событий прошлых лет! Но делать это вживую никаких сил не хватит. Изящное решение – чат-бот с каверзными вопросами и единственным правильным вариантом ответа. Кто победит – того и табуретка смотрителя!

## Из чего состоит программа


* В модуле `get_question_answer.py` реализованы функции для получения списка файлов json из списка текстовых файлов из [архива](https://dvmn.org/media/modules_dist/quiz-questions.zip) и функцции для обработки ответов пользователя

* В модуле `bot_tg.py` реализовано взаимодествие пользователя через интерфейс telegram

* В модуле `bot_vk.py` реализовано взаимодествие пользователя через сообщество Вконтакте

* В модуле `logger.py` реализован класс собственного обработчика логов


## Для работы бота необходимы следующие данные:

* Набор файлов в формате json либо один файл, содержащие список из вариантов вопросов и ответов на них по образцу, расположенные в директории `quiz-questions-json`:


```
[
     {
          "question": "Учитель Клода Моне говорил о важности сохранения ЕГО, так как ОНО самое\nправильное. Психологический сайт считает такие факторы, как прическа,\nодежда, стиль, осанка, поведение, эмоциональное состояние, поставленная\nречь, - основными в формировании ЕГО. Назовите ЕГО двумя словами.",
          "answer": "Первое впечатление.",
          "number": 1
     },
     {
          "question": "По замечанию Джанни ПитЕллы, премьер-министр Дэвид Кэмерон,\nинициировавший референдум по вопросу выхода Великобритании из ЕС,\nпоставил на кон свою политическую карьеру. Ответьте абсолютно точно:\nкакую игру упоминает ПитЕлла в данном контексте?",
          "answer": "Русская рулетка.",
          "number": 2
     }
]
```

* Файл .env с ключами доступа по образцу:

```
TOKEN_TG=<Токен от бота Tg>
TOKEN_TG_LOG=<Токен от бота Tg для отправки сообщения логгера>
CHAT_ID_LOG=<Id чата для получения сообщений логгера>
PASSWORD_DB=<Пароль доступа к базе Redis>
REDIS_HOST=<Хост от базы Redis>
REDIS_PORT=<Порт базы Redis>
TOKEN_VK=<Токен от группы ВК для отправки сообщения от бота>
```

## Порядок установки бота

1. Загрузите данные в директорию для установки:

```
git clone https://github.com/Sergryap/holding_quiz.git
```

2. Перейдите в созданную директорию:

```
cd holding_quiz
```
3. В корневой папке проекта создать файл .env по описанию выше:

```
nano .env
```

4. Находясь в корневой папке проекта, соберите образ, выполнив команду:

```
sudo docker build --tag quize-bot:1.0 .
```
5. Запустите созданный образ:

```
sudo docker run -d --name quize-bot quize-bot:1.0
```

## Пример установки

![Screenshot from 2022-11-08 19-42-56](https://user-images.githubusercontent.com/99894266/200596270-29b12809-5d39-4f2d-b47c-9bebf961e92c.png)

![Screenshot from 2022-11-08 19-44-18](https://user-images.githubusercontent.com/99894266/200596317-7b6bdff8-71dc-4ff4-81e8-0764c46b1008.png)






![video_2022-11-06_18-17-20](https://user-images.githubusercontent.com/99894266/200173027-f34fb5c8-ce9f-4a33-b09c-8014dadbce5b.gif)

![video_2022-11-06_18-23-37](https://user-images.githubusercontent.com/99894266/200173356-fde66aa7-6119-4f13-95e6-99e614b7d361.gif)


### Работающие боты:

**[БОТ TG](https://t.me/QuizeSergryap_bot)**

**[БОТ ВК](https://vk.me/public217015053)**
